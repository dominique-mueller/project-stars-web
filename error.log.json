{"name":"stars-web","hostname":"varicor","pid":6059,"level":50,"msg":"undefined","time":"2016-03-30T20:22:48.836Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":5712,"level":50,"err":{"message":"Cannot read property 'firstName' of undefined","name":"TypeError","stack":"TypeError: Cannot read property 'firstName' of undefined\n    at /home/varicor/Studienarbeit/workspace/controller/usersController.js:122:26\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Cannot read property 'firstName' of undefined","time":"2016-04-04T11:46:10.642Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":9399,"level":50,"err":{"message":"Can't set headers after they are sent.","name":"Error","stack":"Error: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:691:11)\n    at ServerResponse.header (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:718:10)\n    at ServerResponse.json (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:246:10)\n    at /home/varicor/Studienarbeit/workspace/controller/usersController.js:123:36\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Can't set headers after they are sent.","time":"2016-04-12T17:39:43.442Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":9850,"level":50,"err":{"message":"Can't set headers after they are sent.","name":"Error","stack":"Error: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:691:11)\n    at ServerResponse.header (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:718:10)\n    at ServerResponse.json (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:246:10)\n    at /home/varicor/Studienarbeit/workspace/controller/usersController.js:123:36\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Can't set headers after they are sent.","time":"2016-04-12T17:44:19.220Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":10332,"level":50,"err":{"message":"Can't set headers after they are sent.","name":"Error","stack":"Error: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:691:11)\n    at ServerResponse.header (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:718:10)\n    at ServerResponse.send (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:163:12)\n    at ServerResponse.json (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:249:15)\n    at userPromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:18:36)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Can't set headers after they are sent.","time":"2016-04-12T17:52:34.209Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":10507,"level":50,"err":{"message":"Can't set headers after they are sent.","name":"Error","stack":"Error: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:691:11)\n    at ServerResponse.header (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:718:10)\n    at ServerResponse.send (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:163:12)\n    at ServerResponse.json (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:249:15)\n    at userPromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:18:36)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Can't set headers after they are sent.","time":"2016-04-12T18:04:05.061Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":10903,"level":50,"err":{"message":"Can't set headers after they are sent.","name":"Error","stack":"Error: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:691:11)\n    at ServerResponse.header (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:718:10)\n    at ServerResponse.send (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:163:12)\n    at ServerResponse.json (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:249:15)\n    at userPromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:18:36)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Can't set headers after they are sent.","time":"2016-04-12T18:04:41.173Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":13001,"level":50,"err":{"message":"Can't set headers after they are sent.","name":"Error","stack":"Error: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:691:11)\n    at ServerResponse.header (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:718:10)\n    at ServerResponse.json (/home/varicor/Studienarbeit/workspace/node_modules/express/lib/response.js:246:10)\n    at bookmarkPromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/bookmarksController.js:78:35)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Can't set headers after they are sent.","time":"2016-04-12T20:07:17.184Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":5274,"level":50,"err":{"message":"Cannot find module '../folders.module.js'","name":"Error","stack":"Error: Cannot find module '../folders.module.js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:3)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)","code":"MODULE_NOT_FOUND"},"msg":"Cannot find module '../folders.module.js'","time":"2016-04-16T11:32:27.642Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":5397,"level":50,"err":{"message":"E11000 duplicate key error index: dev.users.$emailAddress_1 dup key: { : \"tim.timer@stars-web.de\" }","name":"MongoError","stack":"WriteError({\"code\":11000,\"index\":0,\"errmsg\":\"E11000 duplicate key error index: dev.users.$emailAddress_1 dup key: { : \\\"tim.timer@stars-web.de\\\" }\",\"op\":{\"firstName\":\"Tim\",\"lastName\":\"Timer\",\"emailAddress\":\"tim.timer@stars-web.de\",\"password\":\"$2a$10$FU0caRFGATlwYik3vHJ13O8I0mJffwzySUV4cUz01Mq9lwEUUP85y\",\"_id\":\"571223061962be1515d783d5\",\"settings\":{\"storage\":[]},\"accountActivation\":{\"token\":\"DUMMY ACTIVATION TOKEN\",\"tempPassword\":\"ZERO\",\"activationState\":false},\"registered\":\"2016-04-16T11:33:26.667Z\",\"admin\":false,\"__v\":0}})\n    at Function.MongoError.create (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/error.js:31:11)\n    at toError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/utils.js:114:22)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/collection.js:597:23\n    at handleCallback (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/utils.js:96:12)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/bulk/unordered.js:470:9\n    at handleCallback (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/utils.js:96:12)\n    at resultHandler (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/bulk/unordered.js:417:5)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/topologies/server.js:780:13\n    at Callbacks.emit (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/topologies/server.js:95:3)\n    at null.messageHandler (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/topologies/server.js:249:23)\n    at Socket.<anonymous> (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/connection/connection.js:265:22)\n    at Socket.EventEmitter.emit (events.js:95:17)\n    at Socket.<anonymous> (_stream_readable.js:746:14)\n    at Socket.EventEmitter.emit (events.js:92:17)\n    at emitReadable_ (_stream_readable.js:408:10)\n    at emitReadable (_stream_readable.js:404:5)","code":11000},"msg":"E11000 duplicate key error index: dev.users.$emailAddress_1 dup key: { : \"tim.timer@stars-web.de\" }","time":"2016-04-16T11:33:26.688Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":5397,"level":50,"err":{"message":"Cannot find module '../folders.model.js'","name":"Error","stack":"Error: Cannot find module '../folders.model.js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:3)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)","code":"MODULE_NOT_FOUND"},"msg":"Cannot find module '../folders.model.js'","time":"2016-04-16T11:33:45.301Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":5397,"level":50,"err":{"message":"Cannot find module '../folders.model.js'","name":"Error","stack":"Error: Cannot find module '../folders.model.js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:3)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)","code":"MODULE_NOT_FOUND"},"msg":"Cannot find module '../folders.model.js'","time":"2016-04-16T11:34:01.927Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":5551,"level":50,"err":{"message":"Cannot find module '../folder/folders.model.js'","name":"Error","stack":"Error: Cannot find module '../folder/folders.model.js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:3)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)","code":"MODULE_NOT_FOUND"},"msg":"Cannot find module '../folder/folders.model.js'","time":"2016-04-16T11:34:39.101Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":5665,"level":50,"err":{"message":"Unexpected token =","name":"SyntaxError","stack":"SyntaxError: Unexpected token =\n    at Module._compile (module.js:439:25)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:3)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Unexpected token =","time":"2016-04-16T11:35:29.406Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":6084,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: Path `path` is required.\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1173:16\n    at validate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:662:7)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:693:9\n    at Array.forEach (native)\n    at ObjectId.SchemaType.doValidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:667:19)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1171:9\n    at process._tickCallback (node.js:415:13)"},"msg":"Folder validation failed","time":"2016-04-16T11:41:53.081Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":6194,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: Path `path` is required.\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1173:16\n    at validate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:662:7)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:693:9\n    at Array.forEach (native)\n    at ObjectId.SchemaType.doValidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:667:19)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1171:9\n    at process._tickCallback (node.js:415:13)"},"msg":"Folder validation failed","time":"2016-04-16T11:42:11.140Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":6400,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: CastError: Cast to ObjectID failed for value \"\" at path \"path\"\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at model.Document.set (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:662:10)\n    at model.Document.set (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:514:18)\n    at model.Document (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:64:10)\n    at model.Model (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/model.js:45:12)\n    at new model (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/model.js:2957:11)\n    at /home/varicor/Studienarbeit/workspace/modules/folder/folders.model.js:9:17\n    at lib$es6$promise$$internal$$initializePromise (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:408:9)\n    at new lib$es6$promise$promise$$Promise (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:581:60)\n    at Object.module.exports.create (/home/varicor/Studienarbeit/workspace/modules/folder/folders.model.js:8:10)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:75)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)"},"msg":"Folder validation failed","time":"2016-04-16T11:43:21.409Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":19411,"level":50,"err":{"message":"Unexpected token ;","name":"SyntaxError","stack":"SyntaxError: Unexpected token ;\n    at Module._compile (module.js:439:25)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:29)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Unexpected token ;","time":"2016-04-19T20:56:53.470Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":19561,"level":50,"err":{"message":"Unexpected token ;","name":"SyntaxError","stack":"SyntaxError: Unexpected token ;\n    at Module._compile (module.js:439:25)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:29)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Unexpected token ;","time":"2016-04-19T20:57:27.865Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":19721,"level":50,"err":{"message":"Object function (caller, userId){\n \t\n\tvar self; //@see: adapters/authentication.js \n\tthis.userId;\n\n\tfunction createRootFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t//TODO: FIX BUG change this check so no user can send a path with 'undefined'\n\t\t\t// if a root folder is created, there is no path, so the path's id will be the folder itself\n\t\t\tfolder.position = 0;\n\t\t\tfolder.path = folder._id;\n\t\t\tresolve(folder);\n\t\t});\n\t}\n\n\tfunction createNormalFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar positionPromise = changeNumberOfContainedElements(folder.path, 1);\n\t\t\tposition.then(function(highestPosition){\n\t\t\t\tfolder.position = highestPosition;\n\t\t\t\tresolve(folder);\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tfunction checkIfRootFolder(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(folderId, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(folder.name !== '.'){\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treject(new Error('The root folder can not be deleted'));\n\t\t\t\t\t}\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}); \n\t}\n\n\t/*\n\t@param path: the folder id of the 'parent' folder, called path\n\t@param changeBy: the number of how many should be added (negative numbers also possible)\n\t@resolve: gives back the new numberOfContainedElements \n\t@return: returns a promise \n\t*/\n\tfunction changeNumberOfContainedElements(path, changeBy){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(path, function(err, folder){\n\t\t\t\tfolder.numberOfContainedElements = folder.numberOfContainedElements + changeBy;\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tlogger.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder.numberOfContainedElements);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction shiftFoldersPosition(path, startPosition, shift){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar allFolderPromise = findAll();\n\t\t\tallFolderPromise.then(function(folderArray){\n\t\t\t\tfor(var i = startPosition; i < folderArray.length; i++){\n\t\t\t\t\tfolderArray[i].position = folderArray[i].position + shift;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\t//#### Public Functions #####\n\n\tthis.findAll = function(){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.find({owner:self.userId},{sort:[['position', 'asc']]}, function(err, folders){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tresolve(folders);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} \n\n\tthis.create = function(folderData){\n\t\treturn new Promise(function(resolve, reject){\t\n\t\t\tvar folder = new Folder({\n\t\t\t\tname: folderData.name,\n\t\t\t\towner: self.userId,\n\t\t\t\tpath: folderData.path\n\t\t\t});\n\t\t\tvar folderPromise;\n\t\t\tif(typeof folderData.path === 'undefined'){ \n\t\t\t\tfolderPromise = createRootFolder(folder);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfolderPromise = createNormalFolder(folder);\n\t\t\t}\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tthis.updat = function(folderId, folderData){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tcheckIfRootFolder(folderId).then(function(){\n\t\t\t\t\n\t\t\t\t// Folder.findOneAndUpdate({_id:folderId, owner:self.userId}, folderData)\n\n\t\t\t})\n\t\t\t.catch(reject);\t\n\t\t});\n\t}\n\t\n\tthis.delete = function(folderId, userId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t// the root folder of each user can only be deleted together with the user\n\t\t\t// so it must be ensured that not accidentially the folderId is the root folder\n\t\t\tvar folderPromise = findOne(folderId);\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tvar shiftFolderPromise = shiftFoldersPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar shiftBookmarksPromise = caller.shiftBookmarksPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar alterPathPromise = changeNumberOfContainedElements(folder.path, -1);\n\t\t\t\tPromise.all([shiftFoldersPosition, shiftBookmarksPromise, alterPathPromise]).then(function(resolveArray){\n\t\t\t\t\tFolder.findByIdAndRemove(folderId, function(err){\n\t\t\t\t\t\tif(err){\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\treject(new Error('Something went wrong durring the deletion of the folder: ' + folderId));\n\t\t\t\t\t//TODO Rollback of successful actions\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tthis.findOne = function(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findOne({_id:folderId, owner:self.userId}, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t} \n\t\t\t\telse{\n\t\t\t\t\tresolve(folder);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tself = this;\n\tthis.userId = userId;\n\n\treturn this;\n} has no method 'create'","name":"TypeError","stack":"TypeError: Object function (caller, userId){\n \t\n\tvar self; //@see: adapters/authentication.js \n\tthis.userId;\n\n\tfunction createRootFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t//TODO: FIX BUG change this check so no user can send a path with 'undefined'\n\t\t\t// if a root folder is created, there is no path, so the path's id will be the folder itself\n\t\t\tfolder.position = 0;\n\t\t\tfolder.path = folder._id;\n\t\t\tresolve(folder);\n\t\t});\n\t}\n\n\tfunction createNormalFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar positionPromise = changeNumberOfContainedElements(folder.path, 1);\n\t\t\tposition.then(function(highestPosition){\n\t\t\t\tfolder.position = highestPosition;\n\t\t\t\tresolve(folder);\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tfunction checkIfRootFolder(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(folderId, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(folder.name !== '.'){\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treject(new Error('The root folder can not be deleted'));\n\t\t\t\t\t}\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}); \n\t}\n\n\t/*\n\t@param path: the folder id of the 'parent' folder, called path\n\t@param changeBy: the number of how many should be added (negative numbers also possible)\n\t@resolve: gives back the new numberOfContainedElements \n\t@return: returns a promise \n\t*/\n\tfunction changeNumberOfContainedElements(path, changeBy){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(path, function(err, folder){\n\t\t\t\tfolder.numberOfContainedElements = folder.numberOfContainedElements + changeBy;\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tlogger.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder.numberOfContainedElements);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction shiftFoldersPosition(path, startPosition, shift){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar allFolderPromise = findAll();\n\t\t\tallFolderPromise.then(function(folderArray){\n\t\t\t\tfor(var i = startPosition; i < folderArray.length; i++){\n\t\t\t\t\tfolderArray[i].position = folderArray[i].position + shift;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\t//#### Public Functions #####\n\n\tthis.findAll = function(){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.find({owner:self.userId},{sort:[['position', 'asc']]}, function(err, folders){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tresolve(folders);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} \n\n\tthis.create = function(folderData){\n\t\treturn new Promise(function(resolve, reject){\t\n\t\t\tvar folder = new Folder({\n\t\t\t\tname: folderData.name,\n\t\t\t\towner: self.userId,\n\t\t\t\tpath: folderData.path\n\t\t\t});\n\t\t\tvar folderPromise;\n\t\t\tif(typeof folderData.path === 'undefined'){ \n\t\t\t\tfolderPromise = createRootFolder(folder);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfolderPromise = createNormalFolder(folder);\n\t\t\t}\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tthis.updat = function(folderId, folderData){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tcheckIfRootFolder(folderId).then(function(){\n\t\t\t\t\n\t\t\t\t// Folder.findOneAndUpdate({_id:folderId, owner:self.userId}, folderData)\n\n\t\t\t})\n\t\t\t.catch(reject);\t\n\t\t});\n\t}\n\t\n\tthis.delete = function(folderId, userId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t// the root folder of each user can only be deleted together with the user\n\t\t\t// so it must be ensured that not accidentially the folderId is the root folder\n\t\t\tvar folderPromise = findOne(folderId);\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tvar shiftFolderPromise = shiftFoldersPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar shiftBookmarksPromise = caller.shiftBookmarksPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar alterPathPromise = changeNumberOfContainedElements(folder.path, -1);\n\t\t\t\tPromise.all([shiftFoldersPosition, shiftBookmarksPromise, alterPathPromise]).then(function(resolveArray){\n\t\t\t\t\tFolder.findByIdAndRemove(folderId, function(err){\n\t\t\t\t\t\tif(err){\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\treject(new Error('Something went wrong durring the deletion of the folder: ' + folderId));\n\t\t\t\t\t//TODO Rollback of successful actions\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tthis.findOne = function(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findOne({_id:folderId, owner:self.userId}, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t} \n\t\t\t\telse{\n\t\t\t\t\tresolve(folder);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tself = this;\n\tthis.userId = userId;\n\n\treturn this;\n} has no method 'create'\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:75)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Object function (caller, userId){\n \t\n\tvar self; //@see: adapters/authentication.js \n\tthis.userId;\n\n\tfunction createRootFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t//TODO: FIX BUG change this check so no user can send a path with 'undefined'\n\t\t\t// if a root folder is created, there is no path, so the path's id will be the folder itself\n\t\t\tfolder.position = 0;\n\t\t\tfolder.path = folder._id;\n\t\t\tresolve(folder);\n\t\t});\n\t}\n\n\tfunction createNormalFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar positionPromise = changeNumberOfContainedElements(folder.path, 1);\n\t\t\tposition.then(function(highestPosition){\n\t\t\t\tfolder.position = highestPosition;\n\t\t\t\tresolve(folder);\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tfunction checkIfRootFolder(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(folderId, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(folder.name !== '.'){\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treject(new Error('The root folder can not be deleted'));\n\t\t\t\t\t}\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}); \n\t}\n\n\t/*\n\t@param path: the folder id of the 'parent' folder, called path\n\t@param changeBy: the number of how many should be added (negative numbers also possible)\n\t@resolve: gives back the new numberOfContainedElements \n\t@return: returns a promise \n\t*/\n\tfunction changeNumberOfContainedElements(path, changeBy){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(path, function(err, folder){\n\t\t\t\tfolder.numberOfContainedElements = folder.numberOfContainedElements + changeBy;\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tlogger.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder.numberOfContainedElements);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction shiftFoldersPosition(path, startPosition, shift){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar allFolderPromise = findAll();\n\t\t\tallFolderPromise.then(function(folderArray){\n\t\t\t\tfor(var i = startPosition; i < folderArray.length; i++){\n\t\t\t\t\tfolderArray[i].position = folderArray[i].position + shift;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\t//#### Public Functions #####\n\n\tthis.findAll = function(){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.find({owner:self.userId},{sort:[['position', 'asc']]}, function(err, folders){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tresolve(folders);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} \n\n\tthis.create = function(folderData){\n\t\treturn new Promise(function(resolve, reject){\t\n\t\t\tvar folder = new Folder({\n\t\t\t\tname: folderData.name,\n\t\t\t\towner: self.userId,\n\t\t\t\tpath: folderData.path\n\t\t\t});\n\t\t\tvar folderPromise;\n\t\t\tif(typeof folderData.path === 'undefined'){ \n\t\t\t\tfolderPromise = createRootFolder(folder);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfolderPromise = createNormalFolder(folder);\n\t\t\t}\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tthis.updat = function(folderId, folderData){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tcheckIfRootFolder(folderId).then(function(){\n\t\t\t\t\n\t\t\t\t// Folder.findOneAndUpdate({_id:folderId, owner:self.userId}, folderData)\n\n\t\t\t})\n\t\t\t.catch(reject);\t\n\t\t});\n\t}\n\t\n\tthis.delete = function(folderId, userId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t// the root folder of each user can only be deleted together with the user\n\t\t\t// so it must be ensured that not accidentially the folderId is the root folder\n\t\t\tvar folderPromise = findOne(folderId);\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tvar shiftFolderPromise = shiftFoldersPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar shiftBookmarksPromise = caller.shiftBookmarksPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar alterPathPromise = changeNumberOfContainedElements(folder.path, -1);\n\t\t\t\tPromise.all([shiftFoldersPosition, shiftBookmarksPromise, alterPathPromise]).then(function(resolveArray){\n\t\t\t\t\tFolder.findByIdAndRemove(folderId, function(err){\n\t\t\t\t\t\tif(err){\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\treject(new Error('Something went wrong durring the deletion of the folder: ' + folderId));\n\t\t\t\t\t//TODO Rollback of successful actions\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tthis.findOne = function(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findOne({_id:folderId, owner:self.userId}, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t} \n\t\t\t\telse{\n\t\t\t\t\tresolve(folder);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tself = this;\n\tthis.userId = userId;\n\n\treturn this;\n} has no method 'create'","time":"2016-04-19T20:58:06.107Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":19902,"level":50,"err":{"message":"Object function (caller, userId){\n \t\n\tvar self; //@see: adapters/authentication.js \n\tthis.userId;\n\n\tfunction createRootFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t//TODO: FIX BUG change this check so no user can send a path with 'undefined'\n\t\t\t// if a root folder is created, there is no path, so the path's id will be the folder itself\n\t\t\tfolder.position = 0;\n\t\t\tfolder.path = folder._id;\n\t\t\tresolve(folder);\n\t\t});\n\t}\n\n\tfunction createNormalFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar positionPromise = changeNumberOfContainedElements(folder.path, 1);\n\t\t\tposition.then(function(highestPosition){\n\t\t\t\tfolder.position = highestPosition;\n\t\t\t\tresolve(folder);\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tfunction checkIfRootFolder(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(folderId, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(folder.name !== '.'){\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treject(new Error('The root folder can not be deleted'));\n\t\t\t\t\t}\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}); \n\t}\n\n\t/*\n\t@param path: the folder id of the 'parent' folder, called path\n\t@param changeBy: the number of how many should be added (negative numbers also possible)\n\t@resolve: gives back the new numberOfContainedElements \n\t@return: returns a promise \n\t*/\n\tfunction changeNumberOfContainedElements(path, changeBy){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(path, function(err, folder){\n\t\t\t\tfolder.numberOfContainedElements = folder.numberOfContainedElements + changeBy;\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tlogger.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder.numberOfContainedElements);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction shiftFoldersPosition(path, startPosition, shift){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar allFolderPromise = findAll();\n\t\t\tallFolderPromise.then(function(folderArray){\n\t\t\t\tfor(var i = startPosition; i < folderArray.length; i++){\n\t\t\t\t\tfolderArray[i].position = folderArray[i].position + shift;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\t//#### Public Functions #####\n\n\tthis.findAll = function(){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.find({owner:self.userId},{sort:[['position', 'asc']]}, function(err, folders){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tresolve(folders);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}; \n\n\tthis.create = function(folderData){\n\t\treturn new Promise(function(resolve, reject){\t\n\t\t\tvar folder = new Folder({\n\t\t\t\tname: folderData.name,\n\t\t\t\towner: self.userId,\n\t\t\t\tpath: folderData.path\n\t\t\t});\n\t\t\tvar folderPromise;\n\t\t\tif(typeof folderData.path === 'undefined'){ \n\t\t\t\tfolderPromise = createRootFolder(folder);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfolderPromise = createNormalFolder(folder);\n\t\t\t}\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t};\n\n\tthis.updat = function(folderId, folderData){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tcheckIfRootFolder(folderId).then(function(){\n\t\t\t\t\n\t\t\t\t// Folder.findOneAndUpdate({_id:folderId, owner:self.userId}, folderData)\n\n\t\t\t})\n\t\t\t.catch(reject);\t\n\t\t});\n\t};\n\t\n\tthis.delete = function(folderId, userId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t// the root folder of each user can only be deleted together with the user\n\t\t\t// so it must be ensured that not accidentially the folderId is the root folder\n\t\t\tvar folderPromise = findOne(folderId);\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tvar shiftFolderPromise = shiftFoldersPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar shiftBookmarksPromise = caller.shiftBookmarksPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar alterPathPromise = changeNumberOfContainedElements(folder.path, -1);\n\t\t\t\tPromise.all([shiftFoldersPosition, shiftBookmarksPromise, alterPathPromise]).then(function(resolveArray){\n\t\t\t\t\tFolder.findByIdAndRemove(folderId, function(err){\n\t\t\t\t\t\tif(err){\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\treject(new Error('Something went wrong durring the deletion of the folder: ' + folderId));\n\t\t\t\t\t//TODO Rollback of successful actions\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t};\n\n\tthis.findOne = function(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findOne({_id:folderId, owner:self.userId}, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t} \n\t\t\t\telse{\n\t\t\t\t\tresolve(folder);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tself = this;\n\tthis.userId = userId;\n\n\treturn this;\n} has no method 'create'","name":"TypeError","stack":"TypeError: Object function (caller, userId){\n \t\n\tvar self; //@see: adapters/authentication.js \n\tthis.userId;\n\n\tfunction createRootFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t//TODO: FIX BUG change this check so no user can send a path with 'undefined'\n\t\t\t// if a root folder is created, there is no path, so the path's id will be the folder itself\n\t\t\tfolder.position = 0;\n\t\t\tfolder.path = folder._id;\n\t\t\tresolve(folder);\n\t\t});\n\t}\n\n\tfunction createNormalFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar positionPromise = changeNumberOfContainedElements(folder.path, 1);\n\t\t\tposition.then(function(highestPosition){\n\t\t\t\tfolder.position = highestPosition;\n\t\t\t\tresolve(folder);\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tfunction checkIfRootFolder(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(folderId, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(folder.name !== '.'){\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treject(new Error('The root folder can not be deleted'));\n\t\t\t\t\t}\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}); \n\t}\n\n\t/*\n\t@param path: the folder id of the 'parent' folder, called path\n\t@param changeBy: the number of how many should be added (negative numbers also possible)\n\t@resolve: gives back the new numberOfContainedElements \n\t@return: returns a promise \n\t*/\n\tfunction changeNumberOfContainedElements(path, changeBy){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(path, function(err, folder){\n\t\t\t\tfolder.numberOfContainedElements = folder.numberOfContainedElements + changeBy;\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tlogger.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder.numberOfContainedElements);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction shiftFoldersPosition(path, startPosition, shift){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar allFolderPromise = findAll();\n\t\t\tallFolderPromise.then(function(folderArray){\n\t\t\t\tfor(var i = startPosition; i < folderArray.length; i++){\n\t\t\t\t\tfolderArray[i].position = folderArray[i].position + shift;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\t//#### Public Functions #####\n\n\tthis.findAll = function(){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.find({owner:self.userId},{sort:[['position', 'asc']]}, function(err, folders){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tresolve(folders);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}; \n\n\tthis.create = function(folderData){\n\t\treturn new Promise(function(resolve, reject){\t\n\t\t\tvar folder = new Folder({\n\t\t\t\tname: folderData.name,\n\t\t\t\towner: self.userId,\n\t\t\t\tpath: folderData.path\n\t\t\t});\n\t\t\tvar folderPromise;\n\t\t\tif(typeof folderData.path === 'undefined'){ \n\t\t\t\tfolderPromise = createRootFolder(folder);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfolderPromise = createNormalFolder(folder);\n\t\t\t}\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t};\n\n\tthis.updat = function(folderId, folderData){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tcheckIfRootFolder(folderId).then(function(){\n\t\t\t\t\n\t\t\t\t// Folder.findOneAndUpdate({_id:folderId, owner:self.userId}, folderData)\n\n\t\t\t})\n\t\t\t.catch(reject);\t\n\t\t});\n\t};\n\t\n\tthis.delete = function(folderId, userId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t// the root folder of each user can only be deleted together with the user\n\t\t\t// so it must be ensured that not accidentially the folderId is the root folder\n\t\t\tvar folderPromise = findOne(folderId);\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tvar shiftFolderPromise = shiftFoldersPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar shiftBookmarksPromise = caller.shiftBookmarksPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar alterPathPromise = changeNumberOfContainedElements(folder.path, -1);\n\t\t\t\tPromise.all([shiftFoldersPosition, shiftBookmarksPromise, alterPathPromise]).then(function(resolveArray){\n\t\t\t\t\tFolder.findByIdAndRemove(folderId, function(err){\n\t\t\t\t\t\tif(err){\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\treject(new Error('Something went wrong durring the deletion of the folder: ' + folderId));\n\t\t\t\t\t//TODO Rollback of successful actions\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t};\n\n\tthis.findOne = function(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findOne({_id:folderId, owner:self.userId}, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t} \n\t\t\t\telse{\n\t\t\t\t\tresolve(folder);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tself = this;\n\tthis.userId = userId;\n\n\treturn this;\n} has no method 'create'\n    at createRootFolder (/home/varicor/Studienarbeit/workspace/controller/usersController.js:88:75)\n    at userCreatePromise.then.catch.self.res.status.json.error (/home/varicor/Studienarbeit/workspace/controller/usersController.js:53:6)\n    at lib$es6$promise$$internal$$tryCatch (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:361:16)\n    at lib$es6$promise$$internal$$invokeCallback (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:373:17)\n    at lib$es6$promise$$internal$$publish (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:344:11)\n    at lib$es6$promise$asap$$flush (/home/varicor/Studienarbeit/workspace/node_modules/es6-promise/dist/es6-promise.js:119:9)\n    at process._tickCallback (node.js:415:13)"},"msg":"Object function (caller, userId){\n \t\n\tvar self; //@see: adapters/authentication.js \n\tthis.userId;\n\n\tfunction createRootFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t//TODO: FIX BUG change this check so no user can send a path with 'undefined'\n\t\t\t// if a root folder is created, there is no path, so the path's id will be the folder itself\n\t\t\tfolder.position = 0;\n\t\t\tfolder.path = folder._id;\n\t\t\tresolve(folder);\n\t\t});\n\t}\n\n\tfunction createNormalFolder(folder){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar positionPromise = changeNumberOfContainedElements(folder.path, 1);\n\t\t\tposition.then(function(highestPosition){\n\t\t\t\tfolder.position = highestPosition;\n\t\t\t\tresolve(folder);\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tfunction checkIfRootFolder(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(folderId, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(folder.name !== '.'){\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\treject(new Error('The root folder can not be deleted'));\n\t\t\t\t\t}\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}); \n\t}\n\n\t/*\n\t@param path: the folder id of the 'parent' folder, called path\n\t@param changeBy: the number of how many should be added (negative numbers also possible)\n\t@resolve: gives back the new numberOfContainedElements \n\t@return: returns a promise \n\t*/\n\tfunction changeNumberOfContainedElements(path, changeBy){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findById(path, function(err, folder){\n\t\t\t\tfolder.numberOfContainedElements = folder.numberOfContainedElements + changeBy;\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tlogger.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder.numberOfContainedElements);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction shiftFoldersPosition(path, startPosition, shift){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar allFolderPromise = findAll();\n\t\t\tallFolderPromise.then(function(folderArray){\n\t\t\t\tfor(var i = startPosition; i < folderArray.length; i++){\n\t\t\t\t\tfolderArray[i].position = folderArray[i].position + shift;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\t//#### Public Functions #####\n\n\tthis.findAll = function(){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.find({owner:self.userId},{sort:[['position', 'asc']]}, function(err, folders){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tresolve(folders);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}; \n\n\tthis.create = function(folderData){\n\t\treturn new Promise(function(resolve, reject){\t\n\t\t\tvar folder = new Folder({\n\t\t\t\tname: folderData.name,\n\t\t\t\towner: self.userId,\n\t\t\t\tpath: folderData.path\n\t\t\t});\n\t\t\tvar folderPromise;\n\t\t\tif(typeof folderData.path === 'undefined'){ \n\t\t\t\tfolderPromise = createRootFolder(folder);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfolderPromise = createNormalFolder(folder);\n\t\t\t}\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tfolder.save(function(err, folder){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tresolve(folder);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t};\n\n\tthis.updat = function(folderId, folderData){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tcheckIfRootFolder(folderId).then(function(){\n\t\t\t\t\n\t\t\t\t// Folder.findOneAndUpdate({_id:folderId, owner:self.userId}, folderData)\n\n\t\t\t})\n\t\t\t.catch(reject);\t\n\t\t});\n\t};\n\t\n\tthis.delete = function(folderId, userId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t// the root folder of each user can only be deleted together with the user\n\t\t\t// so it must be ensured that not accidentially the folderId is the root folder\n\t\t\tvar folderPromise = findOne(folderId);\n\t\t\tfolderPromise.then(function(folder){\n\t\t\t\tvar shiftFolderPromise = shiftFoldersPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar shiftBookmarksPromise = caller.shiftBookmarksPosition(folder.path, folder.position + 1, -1);\n\t\t\t\tvar alterPathPromise = changeNumberOfContainedElements(folder.path, -1);\n\t\t\t\tPromise.all([shiftFoldersPosition, shiftBookmarksPromise, alterPathPromise]).then(function(resolveArray){\n\t\t\t\t\tFolder.findByIdAndRemove(folderId, function(err){\n\t\t\t\t\t\tif(err){\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\treject(new Error('Something went wrong durring the deletion of the folder: ' + folderId));\n\t\t\t\t\t//TODO Rollback of successful actions\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t};\n\n\tthis.findOne = function(folderId){\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tFolder.findOne({_id:folderId, owner:self.userId}, function(err, folder){\n\t\t\t\tif(err){\n\t\t\t\t\treject(err);\n\t\t\t\t} \n\t\t\t\telse{\n\t\t\t\t\tresolve(folder);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tself = this;\n\tthis.userId = userId;\n\n\treturn this;\n} has no method 'create'","time":"2016-04-19T21:00:47.192Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":20069,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: Path `owner` is required.\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1173:16\n    at validate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:662:7)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:693:9\n    at Array.forEach (native)\n    at ObjectId.SchemaType.doValidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:667:19)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1171:9\n    at process._tickCallback (node.js:415:13)"},"msg":"Folder validation failed","time":"2016-04-19T21:02:22.490Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":20253,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: Path `owner` is required.\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1173:16\n    at validate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:662:7)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:693:9\n    at Array.forEach (native)\n    at ObjectId.SchemaType.doValidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:667:19)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1171:9\n    at process._tickCallback (node.js:415:13)"},"msg":"Folder validation failed","time":"2016-04-19T21:05:03.369Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":20362,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: Path `owner` is required.\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1173:16\n    at validate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:662:7)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:693:9\n    at Array.forEach (native)\n    at ObjectId.SchemaType.doValidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:667:19)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1171:9\n    at process._tickCallback (node.js:415:13)"},"msg":"Folder validation failed","time":"2016-04-19T21:07:00.593Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":20447,"level":50,"err":{"message":"E11000 duplicate key error index: dev.users.$emailAddress_1 dup key: { : \"tim.timer@stars-web.de\" }","name":"MongoError","stack":"WriteError({\"code\":11000,\"index\":0,\"errmsg\":\"E11000 duplicate key error index: dev.users.$emailAddress_1 dup key: { : \\\"tim.timer@stars-web.de\\\" }\",\"op\":{\"firstName\":\"Tim\",\"lastName\":\"Timer\",\"emailAddress\":\"tim.timer@stars-web.de\",\"password\":\"$2a$10$U0W70Ct0anlSRw4uO6MZseRjIo4cWevcws4ugmTZc.ZjzwqulD4sC\",\"_id\":\"57169e37252b91df4f9060ea\",\"settings\":{\"storage\":[]},\"accountActivation\":{\"token\":\"DUMMY ACTIVATION TOKEN\",\"tempPassword\":\"ZERO\",\"activationState\":false},\"registered\":\"2016-04-19T21:08:07.984Z\",\"admin\":false,\"__v\":0}})\n    at Function.MongoError.create (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/error.js:31:11)\n    at toError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/utils.js:114:22)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/collection.js:597:23\n    at handleCallback (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/utils.js:96:12)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/bulk/unordered.js:470:9\n    at handleCallback (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/utils.js:96:12)\n    at resultHandler (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/lib/bulk/unordered.js:417:5)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/topologies/server.js:780:13\n    at Callbacks.emit (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/topologies/server.js:95:3)\n    at null.messageHandler (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/topologies/server.js:249:23)\n    at Socket.<anonymous> (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/node_modules/mongodb/node_modules/mongodb-core/lib/connection/connection.js:265:22)\n    at Socket.EventEmitter.emit (events.js:95:17)\n    at Socket.<anonymous> (_stream_readable.js:746:14)\n    at Socket.EventEmitter.emit (events.js:92:17)\n    at emitReadable_ (_stream_readable.js:408:10)\n    at emitReadable (_stream_readable.js:404:5)","code":11000},"msg":"E11000 duplicate key error index: dev.users.$emailAddress_1 dup key: { : \"tim.timer@stars-web.de\" }","time":"2016-04-19T21:08:08.004Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":20447,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: Path `owner` is required.\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1173:16\n    at validate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:662:7)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:693:9\n    at Array.forEach (native)\n    at ObjectId.SchemaType.doValidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:667:19)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1171:9\n    at process._tickCallback (node.js:415:13)"},"msg":"Folder validation failed","time":"2016-04-19T21:08:20.811Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":20552,"level":50,"err":{"message":"Folder validation failed","name":"ValidationError","stack":"ValidationError: Path `owner` is required.\n    at MongooseError.ValidationError (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/error/validation.js:23:11)\n    at model.Document.invalidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1298:32)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1173:16\n    at validate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:662:7)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:693:9\n    at Array.forEach (native)\n    at ObjectId.SchemaType.doValidate (/home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/schematype.js:667:19)\n    at /home/varicor/Studienarbeit/workspace/node_modules/mongoose/lib/document.js:1171:9\n    at process._tickCallback (node.js:415:13)"},"msg":"Folder validation failed","time":"2016-04-19T21:08:53.982Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":21522,"level":50,"msg":"FUKING ERROR: TypeError: object is not a function","time":"2016-04-19T21:30:17.830Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":21596,"level":50,"msg":"FUKING ERROR: TypeError: object is not a function","time":"2016-04-19T21:31:37.219Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":21702,"level":50,"msg":"FUKING ERROR: TypeError: object is not a function","time":"2016-04-19T21:32:51.499Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":21854,"level":50,"msg":"FUKING ERROR: TypeError: object is not a function","time":"2016-04-19T21:35:04.978Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":22269,"level":50,"msg":"could not parse req.body.data to json","time":"2016-04-19T21:42:16.298Z","v":0}
{"name":"stars-web","hostname":"varicor","pid":22432,"level":50,"msg":"could not parse req.body.data to json","time":"2016-04-19T21:43:45.915Z","v":0}
